<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationAdd">
    <xpath>/Defs/ThingDef[@Name = "WoolBase"]/stuffProps/categories</xpath>
    <value>
      <li>Wooly</li>
    </value>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <xpath>*/ThingDef[defName="Gun_Minigun"]/weaponTags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>*/ThingDef[defName="Gun_Minigun"]</xpath>
      <value>
        <weaponTags>
          <li>RERHeavy</li>
        </weaponTags>
      </value>
    </nomatch>
    <match Class="PatchOperationAdd">
      <xpath>*/ThingDef[defName="Gun_Minigun"]/weaponTags</xpath>
      <value>
        <li>RERHeavy</li>
      </value>
    </match>
  </Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Combat Extended</li>
    </mods>
    <nomatch Class="PatchOperationSequence">
      <operations>
        <li Class="PatchOperationConditional">
          <xpath>*/ThingDef[defName="Gun_TripleRocket"]/weaponTags</xpath>
          <nomatch Class="PatchOperationAdd">
            <xpath>*/ThingDef[defName="Gun_TripleRocket"]</xpath>
            <value>
              <weaponTags>
                <li>RERHeavy</li>
              </weaponTags>
            </value>
          </nomatch>
          <match Class="PatchOperationAdd">
            <xpath>*/ThingDef[defName="Gun_TripleRocket"]/weaponTags</xpath>
            <value>
              <li>RERHeavy</li>
            </value>
          </match>
        </li>
      </operations>
    </nomatch>
  </Operation>
  <Operation Class="PatchOperationFindMod">
    <mods>
      <li>Royalty</li>
    </mods>
    <match Class="PatchOperationSequence">
      <operations>
        <!-- Guests -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>AsariFaction</factionDef>
              <pawnKinds>
                <li>AsariColonist</li>
                <li>AsariColonist</li>
                <li>AsariColonist</li>
                <li>AsariSecurityGuard</li>
                <li>AsariSecurityGuard</li>
                <li>AsariMatriarch</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>BatarianFaction</factionDef>
              <pawnKinds>
                <li>BatarianColonist01</li>
                <li>BatarianColonist01</li>
                <li>BatarianColonist01</li>
                <li>BatarianSoldier01</li>
                <li>BatarianBrawler01</li>
                <li>BatarianChancellor01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>EnkindlerFaction</factionDef>
              <pawnKinds>
                <li>HanarColonist01</li>
                <li>HanarColonist01</li>
                <li>DrellColonist01</li>
                <li>DrellSoldier01</li>
                <li>DrellSoldier01</li>
                <li>HanarBeacon01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>KroganFaction</factionDef>
              <pawnKinds>
                <li>KroganColonist01</li>
                <li>KroganColonist01</li>
                <li>KroganColonist01</li>
                <li>KroganSoldier01</li>
                <li>KroganBrawler01</li>
                <li>KroganLeader01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>QuarianFaction</factionDef>
              <pawnKinds>
                <li>QuarianColonist01</li>
                <li>QuarianColonist01</li>
                <li>QuarianColonist01</li>
                <li>QuarianSoldier01</li>
                <li>QuarianSoldier01</li>
                <li>QuarianCouncillor01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>SalarianFaction</factionDef>
              <pawnKinds>
                <li>SalarianColonist01</li>
                <li>SalarianColonist01</li>
                <li>SalarianColonist01</li>
                <li>SalarianSoldier01</li>
                <li>SalarianSoldier01</li>
                <li>SalarianCouncillor01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>TurianFaction</factionDef>
              <pawnKinds>
                <li>TurianColonist01</li>
                <li>TurianColonist01</li>
                <li>TurianColonist01</li>
                <li>TurianSoldier01</li>
                <li>TurianSoldier01</li>
                <li>TurianGeneral01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>VorchaFaction</factionDef>
              <pawnKinds>
                <li>VorchaColonist01</li>
                <li>VorchaColonist01</li>
                <li>VorchaColonist01</li>
                <li>VorchaSoldier01</li>
                <li>VorchaSoldier01</li>
                <li>VorchaChief01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_IsSet"]/node[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>WhiteHandFaction</factionDef>
              <pawnKinds>
                <li>VorchaWhiteHandSoldier01</li>
                <li>VorchaWhiteHandBrawler01</li>
                <li>VorchaWhiteHandGrenadier01</li>
                <li>KroganWhiteHandSoldier01</li>
                <li>KroganWhiteHandBrawler01</li>
                <li>KroganWhiteHandLeader01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <!-- Mercenaries -->
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>AsariFaction</factionDef>
              <pawnKinds>
                <li>AsariHuntress</li>
                <li>AsariHuntress</li>
                <li>AsariCommando</li>
                <li>AsariCommando</li>
                <li>AsariCommando</li>
                <li>AsariCommando</li>
                <li>AsariCommandoElite</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>BatarianFaction</factionDef>
              <pawnKinds>
                <li>BatarianEliteBrawler01</li>
                <li>BatarianVeteran01</li>
                <li>BatarianVeteran01</li>
                <li>BatarianVeteran01</li>
                <li>BatarianGrenadier01</li>
                <li>BatarianElite01</li>
                <li>BatarianEliteBrawler01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>EnkindlerFaction</factionDef>
              <pawnKinds>
                <li>DrellVeteran01</li>
                <li>DrellVeteran01</li>
                <li>DrellVeteran01</li>
                <li>DrellVeteran01</li>
                <li>DrellGrenadier01</li>
                <li>DrellElite01</li>
                <li>DrellElite01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>KroganFaction</factionDef>
              <pawnKinds>
                <li>KroganVeteran01</li>
                <li>KroganVeteran01</li>
                <li>KroganVeteran01</li>
                <li>KroganVeteranBrawler01</li>
                <li>KroganVeteranBrawler01</li>
                <li>KroganElite01</li>
                <li>KroganElite01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>QuarianFaction</factionDef>
              <pawnKinds>
                <li>QuarianVeteran01</li>
                <li>QuarianVeteran01</li>
                <li>QuarianVeteran01</li>
                <li>QuarianGrenadier01</li>
                <li>QuarianElite01</li>
                <li>QuarianElite01</li>
                <li>QuarianElite01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>SalarianFaction</factionDef>
              <pawnKinds>
                <li>SalarianVeteran01</li>
                <li>SalarianVeteran01</li>
                <li>SalarianVeteran01</li>
                <li>SalarianGrenadier01</li>
                <li>SalarianElite01</li>
                <li>SalarianElite01</li>
                <li>SalarianElite01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>TurianFaction</factionDef>
              <pawnKinds>
                <li>TurianVeteran01</li>
                <li>TurianVeteran01</li>
                <li>TurianVeteran01</li>
                <li>TurianVeteran01</li>
                <li>TurianElite01</li>
                <li>TurianElite01</li>
                <li>TurianElite01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>VorchaFaction</factionDef>
              <pawnKinds>
                <li>VorchaBrawler01</li>
                <li>VorchaBrawler01</li>
                <li>VorchaGrenadier01</li>
                <li>VorchaGrenadier01</li>
                <li>VorchaVeteran01</li>
                <li>VorchaVeteran01</li>
                <li>VorchaVeteran01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
        <li Class="PatchOperationAdd">
          <xpath>/Defs/QuestScriptDef/root[@Class="QuestNode_Sequence"]/nodes/li[@Class="QuestNode_GetRandomPawnKindForFaction"]/choices</xpath>
          <value>
            <li>
              <factionDef>WhiteHandFaction</factionDef>
              <pawnKinds>
                <li>KroganWhiteHandBrawler01</li>
                <li>VorchaWhiteHandBrawler01</li>
                <li>VorchaWhiteHandBrawler01</li>
                <li>VorchaWhiteHandGrenadier01</li>
                <li>VorchaWhiteHandVeteran01</li>
                <li>KroganWhiteHandVeteran01</li>
                <li>KroganWhiteHandVeteran01</li>
              </pawnKinds>
            </li>
          </value>
        </li>
      </operations>
    </match>
  </Operation>
</Patch>